!function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t){!function(){"use strict";console.log("here","3333");var e={clientId:"365358090-q5rluaajlfhif5ml3t86tuoc11nmistq.apps.googleusercontent.com",redirectUri:"http://localhost:3333/redirect",authUrl:"https://accounts.google.com/o/oauth2/v2/auth",responseType:"code",scope:"profile email"};function t(e){e?($(".notsignedin").css("display","none"),$(".signedin").css("display","block")):($(".notsignedin").css("display","block"),$(".signedin").css("display","none"))}$(document).ready((function(){var a=Cookies.get("accessToken");t(a&&a.length>0),$("#connectbutton").click((function(){!function(){var t=e.clientId;(tableau.authPurpose===tableau.authPurposeEnum.ephemerel||tableau.authPurpose===tableau.authPurposeEnum.enduring)&&(t=e.clientId);var a=`${e.authUrl}?response_type=${e.responseType}&client_id=${t}&redirect_uri=${e.redirectUri}&scope=${e.scope}`;window.location.href=a}()})),$("#getvenuesbutton").click((function(){tableau.connectionName="Foursquare Venues Data",tableau.submit()}))}));var a=tableau.makeConnector();a.init=function(e){tableau.authType=tableau.authTypeEnum.custom,tableau.phase==tableau.phaseEnum.authPhase&&$("#getvenuesbutton").css("display","none"),tableau.phase,tableau.phaseEnum.gatherDataPhase;var a=Cookies.get("accessToken");console.log("Access token is '"+a+"'");var n=a&&a.length>0||tableau.password.length>0;if(t(n),e(),(tableau.phase==tableau.phaseEnum.interactivePhase||tableau.phase==tableau.phaseEnum.authPhase)&&n)return tableau.password=a,void(tableau.phase==tableau.phaseEnum.authPhase&&tableau.submit())},a.getSchema=function(e){var t=[],a={id:"FoursquareTable",columns:[{id:"Name",dataType:"string"},{id:"Latitude",dataType:"float"},{id:"Longitude",dataType:"float"},{id:"Address",dataType:"string"}]};t.push(a),e(t)},a.getData=function(t,a){var n=[],o=function(t){return"https://api.foursquare.com/v2/users/self/venuelikes?oauth_token="+t+"&v="+e.version}(tableau.password);$.ajax({url:o,dataType:"json",success:function(e){if(e.response){var o,u=e.response.venues.items;for(o=0;o<u.length;++o){var r={Name:u[o].name,Latitude:u[o].location.lat,Longitude:u[o].location.lng,Address:u[o].location.address};n.push(r)}t.appendRows(n),a()}else tableau.abortWithError("No results found")},error:function(e,t,a){tableau.abortForAuth("Invalid Access Token")}})},tableau.registerConnector(a)}()}]);
//# sourceMappingURL=app.bundle.js.map